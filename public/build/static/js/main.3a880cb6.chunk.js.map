{"version":3,"sources":["apollo.js","helpers/userWindowDimensions.js","components/BubblesGraphTAP.js","components/VusicLoader.js","components/Error.js","Pages/TopArtistsPopularity.js","components/BubblesGraphTAF.js","Pages/TopArtistsFollowers.js","components/ChordChart.js","Pages/TopArtistsGenres.js","helpers/useResizeObserver.js","components/ForceChart.js","components/BubblesGraphTTP.js","Pages/TopTracksPopularity.js","components/RadarGraph.js","Pages/TopTracksAnalysis.js","components/HeatMap.js","components/HexagonGraph.js","Pages/Home.js","components/Footer.js","App.js","Pages/RelatedArtists.js","Pages/TopTracksYears.js","reportWebVitals.js","index.js"],"names":["ApolloClient","uri","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","BubblesGraph","props","data","setData","min","max","domain","setDomain","mobileWidth","random","Math","floor","graphData","topArtists","topTracks","arr","forEach","element","push","numbers","id","radiusScale","d3","range","select","selectAll","remove","svg","append","attr","classed","div","style","simulation","force","strength","d","nodes","enter","images","url","circles","on","event","album","external_urls","spotify","open","onClick","name","e","this","transition","duration","html","toLocaleString","pageX","pageY","x","y","createChart","VusicLoader","display","alignItems","flexDirection","paddingTop","paddingBottom","src","alt","type","color","Error","Button","variant","href","GET_ARTIST","gql","Chords","mobileHeight","nameOrGenres","slicedArray","slice","i","genres","all","Set","realData","allElement","realObj","source","targetArr","sliceElement","genreElement","target","finalArray","axis","eachMatch","find","relation","colors","class","matrix","componentId","groupLabels","labelColors","groupColors","padAngle","outerRadius","innerRadius","strokeWidth","persistHoverOnClick","disableHover","textTransform","fontWeight","wordWrap","letterSpacing","useResizeObserver","ref","dimensions","setDimensions","observeTarget","current","resizeObserver","ResizeObserver","entries","entry","contentRect","observe","unobserve","ForceTreeChart","parent","allArtists","relatedArtists","unshift","childArr","parentArtist","children","svgRef","useRef","wrapperRef","toLowerCase","replace","root","hierarchy","nodeData","descendants","linkData","links","scaleSqrt","forceSimulation","forceManyBody","forceCollide","text","alpha","toFixed","join","link","node","dataDiv","pointer","forceX","forceY","GET_TRACK","RadarGraph","tracksNames","setTracksNames","tracksAnalysis","setTracksAnalysis","audioFeatures","setAudioFeatures","sets","setSets","transformData","values","result","value","set","danceability","energy","speechiness","acousticness","instrumentalness","liveness","valence","key","label","dataGraphFirst","top10Tracks","dataGraphSecond","tmpStyle","margin","padding","domainMax","highlighted","variables","className","TOP_TRACKS","TRACKS_ANALYSIS","HeatMap","setInfo","base","albumCount","albums","graphWidth","graphHeight","minYear","item","maxYear","xScale","yScale","Date","cellInfo","canvas","topTrackOffset","albumYearMonth","fullInfo","artist","obj","release_date","date","artists","track","image","eachOccurence","reduce","prev","curr","dateData","objCount","year","Number","month","count","albumsArr","rect","index","raise","xAxis","tickFormat","yAxis","call","ease","delay","d3d","hexbin","HexbinPlot","HexagonGraph","hexRadius","radius","points","j","sqrt","length","repeat","hexagon","location","Home","Footer","routes","path","Component","history","useHistory","useQuery","loading","error","pathname","state","query","popularity","followers","total","useLocation","GET_TRACKS_INFO_FIRST","GET_TRACKS_INFO_SECOND","loadingOne","one","loadingTwo","two","App","Navbar","collapseOnSelect","expand","bg","Brand","Nav","Link","as","NavLink","to","activeClassName","exact","Toggle","Collapse","filter","route","map","Form","inline","match","CSSTransition","in","timeout","classNames","unmountOnExit","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","client","document","getElementById"],"mappings":"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U,CACR,CACE,OAAU,IACV,IAAO,mEACP,MAAS,KAEX,CACE,OAAU,IACV,IAAO,mEACP,MAAS,KAEX,CACE,OAAU,IACV,IAAO,mEACP,MAAS,OAIf,CACE,GAAM,yBACN,KAAQ,UACR,OAAU,CACR,CACE,OAAU,IACV,IAAO,mEACP,MAAS,KAEX,CACE,OAAU,IACV,IAAO,mEACP,MAAS,KAEX,CACE,OAAU,IACV,IAAO,mEACP,MAAS,OAIf,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oEAET,CACE,IAAO,oEAET,CACE,IAAO,sEAIb,CACE,OAAU,CACR,CACE,IAAO,oE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","file":"static/js/main.3a880cb6.chunk.js","sourcesContent":["import ApolloClient from 'apollo-boost';\n\nexport default new ApolloClient({\n  uri: \"/graphql\",\n});\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import React, { useEffect, useState } from 'react';\nimport * as d3 from 'd3';\nimport useWindowDimensions from '../helpers/userWindowDimensions';\nimport { select } from 'd3';\nimport './BubblesGraph.scss';\n\nexport default function BubblesGraph(props) {\n  const [data, setData] = useState()\n  const [domain, setDomain] = useState({ min: 0, max: 150 })\n  const { height, width } = useWindowDimensions();\n  const mobileWidth = (width < 650 ? 1.5 : 1)\n\n  // Generating random colors for stroke\n  const random = () => {\n    return (`rgb(${(Math.floor(Math.random() * 100) + 75)}, ${(Math.floor(Math.random() * 100) + 155)}, ${(Math.floor(Math.random() * 100) + 75)})`);\n  }\n\n  // Require a function call to navigate to a new tab\n  const spotifyClick = (url) => {\n    window.open(url, '_blank');\n  }\n\n  useEffect(() => {\n    // Initilization\n    const graphData = (props.graphData.topArtists ? props.graphData.topArtists : props.graphData.topTracks)\n\n    const arr = [];\n    graphData.forEach((element) => { arr.push(element.numbers) })\n    const min = Math.min(...arr);\n    const max = Math.max(...arr);\n\n    setDomain({\n      min: min,\n      max: max\n    })\n    setData(graphData)\n  }, [props.graphData.topArtists, props.graphData.topTracks])\n\n  // Constructing the chart in the return\n  const createChart = () => {\n    // For setting the radius of bubbles\n    let radiusScale = d3.scaleLinear().domain([0, 100 * (mobileWidth)]).range([0, (domain.max - domain.min / 2)])\n    if (domain.max > 100) {\n      radiusScale = d3.scaleSqrt().domain([domain.min, domain.max]).range([0, 110]);\n    }\n\n    select(\"#chart-tap\").selectAll(\"*\").remove()\n\n    const svg = d3\n      .select(\"#chart-tap\")\n      .append(\"svg\")\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n      .attr(\"viewBox\", `0 ${width < 650 ? height * .1 : 0} ${width} ${height}`)\n      .classed(\"svg-content-responsive\", true)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,0)\");\n\n    // Text info on hover\n    const div = select(\"#artist-info\")\n      .append(\"div\")\n      .attr(\"class\", \"circle-info\")\n      .style(\"opacity\", 0)\n\n    // Animation\n    const simulation = d3.forceSimulation()\n      .force(\"x\", d3.forceX(width / 2).strength(0.1))\n      .force(\"y\", d3.forceY(height / 2).strength(0.1))\n      .force(\"collide\", d3.forceCollide((d) => {\n        return radiusScale(d.numbers) + 3;\n      }))\n      .nodes(data)\n\n    // Start drawing\n    svg.append(\"defs\")\n      .selectAll(\".artist-pattern\")\n      .data(data)\n      .enter()\n      .append(\"pattern\")\n      .attr(\"class\", \"artist-pattern\")\n      .attr(\"id\", function (data) {\n        return data.id\n      })\n      .attr(\"height\", '100%')\n      .attr(\"width\", '100%')\n      .attr(\"patternContentUnits\", \"objectBoundingBox\")\n      .append(\"image\")\n      .attr(\"height\", 1)\n      .attr(\"width\", 1)\n      .attr(\"preserveAspectRatio\", \"none\")\n      .attr(\"xlink:href\", function (data) { return data.images[0].url })\n\n    // Bubble graph circles\n    const circles = svg.selectAll(\".artist\")\n      .data(data)\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"artist\")\n      .style(\"stroke\", random())\n      .attr(\"stroke-width\", \"3px\")\n      .style(\"cursor\", \"pointer\")\n      .attr(\"id\", (data) => {\n        return data.id\n      })\n      .on(\"click\", function (event, d) {\n        // Only songs have albums property - don't create\n        // force chart but open link to song instead\n        if (d.album) {\n          spotifyClick(d.external_urls.spotify)\n        } else {\n          props.onClick(\n            d.id,\n            d.name,\n            d.images,\n            d.external_urls\n          );\n        }\n      })\n      .attr(\"r\", (data) => {\n        return radiusScale(data.numbers)\n      })\n      .attr(\"fill\", function (data) {\n        return `url(#${data.id})`;\n      })\n      .on(\"mouseover\", function (e, d) {\n        select(this)\n          .attr(\"stroke-width\", \"5px\")\n          .style(\"stroke\", \"#fff\")\n\n        // Show div with artist name and allow user to click link\n        select(this)\n          .transition()\n          .duration('1')\n          .attr('opacity', '.95')\n          .style(\"cursor\", \"pointer\");\n\n        div.transition()\n          .duration(50)\n          .style(\"opacity\", 1)\n\n        // Prevent div from disappearing when hovering over it\n        div.on('mouseover', function (e, d) {\n          select(this)\n            .transition()\n            .duration(50)\n            .style(\"opacity\", 1)\n        })\n          .on('mouseout', function (e, d) {\n            select(this)\n              .transition()\n              .duration('50')\n              .style(\"opacity\", 0);\n          });\n\n        div.html(`${d.name} | ${d.numbers.toLocaleString()}`)\n          .style(\"position\", \"absolute\")\n          .style(\"left\", `${e.pageX + 20}px`)\n          .style(\"top\", `${e.pageY}px`)\n          .style(\"padding\", \"5px\")\n      })\n      .on(\"mouseout\", function (e, d) {\n        select(this)\n          .attr(\"stroke-width\", \"3px\")\n          .style(\"stroke\", random())\n\n        div.transition()\n          .duration('50')\n          .style(\"opacity\", 0);\n      })\n\n\n    // Move circle into position\n    const ticked = () => {\n      circles\n        .attr(\"cx\", (d) => d.x)\n        .attr(\"cy\", (d) => d.y);\n    };\n\n    // Animation start\n    simulation\n      .nodes(data)\n      .on('tick', ticked);\n  }\n\n  return (\n    <div>\n      <div id=\"artist-info\"></div>\n      <div id=\"chart-tap\">\n        {data && domain && createChart()}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nexport default function VusicLoader() {\n  const tmpStyle = {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingTop: \"15%\",\n    paddingBottom: \"15%\",\n  };\n\n  return (\n    <div style={tmpStyle}>\n      <img src=\"/vusic_icon.png\" alt=\"vusic-icon\" width=\"162\" height=\"60\"></img>\n      <Loader type=\"Bars\" color=\"#57F289\" height={100} width={100} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport './Footer.scss';\nimport { Button } from \"react-bootstrap\";\nimport './Error.scss'\n\nexport default function Error() {\n  return (\n    <div id=\"error\">\n      <h1>Error</h1>\n      <div id=\"login-welcome\">\n        <img id=\"brand\" src=\"/vusic_icon.png\" alt=\"vusic-icon\"></img>\n        <Button\n          variant=\"login-button\"\n          href=\"http://localhost:4000/login\"\n        >\n          View it!\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport gql from \"graphql-tag\";\nimport { Query, useQuery } from \"react-apollo\";\nimport { useHistory } from \"react-router\";\nimport BubblesGraphTAP from \"../components/BubblesGraphTAP\";\nimport VusicLoader from \"../components/VusicLoader\";\nimport Error from \"../components/Error\";\n\nexport const GET_ARTIST = gql`\n  query GetArtist {\n    topArtists {\n      id\n      name\n      popularity\n      followers {\n        href\n        total\n      }\n      images {\n        height\n        url\n        width\n      }\n    }\n  }\n`;\n\nexport default function TopArtistsPopularity() {\n  // If a user selects an artist's bubble, will send user\n  // to the artist's id, looking for related artists\n  const history = useHistory();\n\n  const { loading, error, data } = useQuery(GET_ARTIST);\n\n  const onClick = (id, name, images, external_urls) => {\n    history.push({\n      pathname: `${id}/related-artists`,\n      state: {\n        id: id,\n        name: name,\n        images: [...images],\n        external_urls: { ...external_urls },\n      },\n    });\n  };\n\n  return (\n    <div>\n      <Query query={GET_ARTIST}>\n        {({ loading, data }) => {\n          if (loading) {\n            return <VusicLoader />;\n          }\n          if (!data.topArtists) {\n            return <Error />\n          }\n          data.topArtists.forEach((element) => {\n            element.numbers = element.popularity;\n          });\n\n          return (\n            <>\n              <h1 >\n                Artists by Popularity\n              </h1>\n              <BubblesGraphTAP graphData={data} onClick={onClick}></BubblesGraphTAP>\n            </>\n          );\n        }}\n      </Query>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport * as d3 from 'd3';\nimport useWindowDimensions from '../helpers/userWindowDimensions';\nimport { select } from 'd3';\nimport './BubblesGraph.scss';\n\nexport default function BubblesGraph(props) {\n  const [data, setData] = useState()\n  const [domain, setDomain] = useState({ min: 0, max: 150 })\n  const { height, width } = useWindowDimensions();\n  const mobileWidth = (width < 700 ? 3 : 1)\n\n  // Generating random colors for stroke\n  const random = () => {\n    return (`rgb(${(Math.floor(Math.random() * 100) + 75)}, ${(Math.floor(Math.random() * 100) + 155)}, ${(Math.floor(Math.random() * 100) + 75)})`);\n  }\n\n  // Require a function call to navigate to a new tab\n  const spotifyClick = (url) => {\n    window.open(url, '_blank');\n  }\n\n  useEffect(() => {\n    // Initilization\n    const graphData = (props.graphData.topArtists ? props.graphData.topArtists : props.graphData.topTracks)\n\n    const arr = [];\n    graphData.forEach((element) => { arr.push(element.numbers) })\n    const min = Math.min(...arr);\n    const max = Math.max(...arr);\n\n    setDomain({\n      min: min,\n      max: max\n    })\n    setData(graphData)\n  }, [props.graphData.topArtists, props.graphData.topTracks])\n\n  // Constructing the chart in the return\n  const createChart = () => {\n    // For setting the radius of bubbles\n    let radiusScale = d3.scaleLinear().domain([0, 100]).range([0, domain.max])\n    if (domain.max > 100) {\n      radiusScale = d3.scaleSqrt().domain([domain.min, domain.max * mobileWidth]).range([15, 110]);\n    }\n\n    select(\"#chart-taf\").selectAll(\"*\").remove()\n\n    const svg = d3\n      .select(\"#chart-taf\")\n      .append(\"svg\")\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n      .attr(\"viewBox\", `0 ${width < 700 ? height * .1 : 0} ${width} ${height}`)\n      .classed(\"svg-content-responsive\", true)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,0)\");\n\n    // Text info on hover\n    const div = select(\"#artist-info\")\n      .append(\"div\")\n      .attr(\"class\", \"circle-info\")\n      .style(\"opacity\", 0)\n\n    // Animation\n    const simulation = d3.forceSimulation()\n      .force(\"x\", d3.forceX(width / 2).strength(0.1))\n      .force(\"y\", d3.forceY(height / 2).strength(0.1))\n      .force(\"collide\", d3.forceCollide((d) => {\n        return radiusScale(d.numbers) + 3;\n      }))\n      .nodes(data)\n\n    // Start drawing\n    svg.append(\"defs\")\n      .selectAll(\".artist-pattern\")\n      .data(data)\n      .enter()\n      .append(\"pattern\")\n      .attr(\"class\", \"artist-pattern\")\n      .attr(\"id\", function (data) {\n        return data.id\n      })\n      .attr(\"height\", '100%')\n      .attr(\"width\", '100%')\n      .attr(\"patternContentUnits\", \"objectBoundingBox\")\n      .append(\"image\")\n      .attr(\"height\", 1)\n      .attr(\"width\", 1)\n      .attr(\"preserveAspectRatio\", \"none\")\n      .attr(\"xlink:href\", function (data) { return data.images[0].url })\n\n    // Bubble graph circles\n    const circles = svg.selectAll(\".artist\")\n      .data(data)\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"artist\")\n      .style(\"stroke\", random())\n      .attr(\"stroke-width\", \"3px\")\n      .style(\"cursor\", \"pointer\")\n      .attr(\"id\", (data) => {\n        return data.id\n      })\n      .on(\"click\", function (event, d) {\n        // Only songs have albums property - don't create\n        // force chart but open link to song instead\n        if (d.album) {\n          spotifyClick(d.external_urls.spotify)\n        } else {\n          props.onClick(\n            d.id,\n            d.name,\n            d.images,\n            d.external_urls\n          );\n        }\n      })\n      .attr(\"r\", (data) => {\n        return radiusScale(data.numbers)\n      })\n      .attr(\"fill\", function (data) {\n        return `url(#${data.id})`;\n      })\n      .on(\"mouseover\", function (e, d) {\n        select(this)\n          .attr(\"stroke-width\", \"5px\")\n          .style(\"stroke\", \"#fff\")\n\n        // Show div with artist name and allow user to click link\n        select(this)\n          .transition()\n          .duration('1')\n          .attr('opacity', '.95')\n          .style(\"cursor\", \"pointer\");\n\n        div.transition()\n          .duration(50)\n          .style(\"opacity\", 1)\n\n        // Prevent div from disappearing when hovering over it\n        div.on('mouseover', function (e, d) {\n          select(this)\n            .transition()\n            .duration(50)\n            .style(\"opacity\", 1)\n        })\n          .on('mouseout', function (e, d) {\n            select(this)\n              .transition()\n              .duration('50')\n              .style(\"opacity\", 0);\n          });\n\n        div.html(`${d.name} | ${d.numbers.toLocaleString()}`)\n          .style(\"position\", \"absolute\")\n          .style(\"left\", `${e.pageX + 20}px`)\n          .style(\"top\", `${e.pageY}px`)\n          .style(\"padding\", \"5px\")\n      })\n      .on(\"mouseout\", function (e, d) {\n        select(this)\n          .attr(\"stroke-width\", \"3px\")\n          .style(\"stroke\", random())\n\n        div.transition()\n          .duration('50')\n          .style(\"opacity\", 0);\n      })\n\n\n    // Move circle into position\n    const ticked = () => {\n      circles\n        .attr(\"cx\", (d) => d.x)\n        .attr(\"cy\", (d) => d.y);\n    };\n\n    // Animation start\n    simulation\n      .nodes(data)\n      .on('tick', ticked);\n  }\n\n  return (\n    <div>\n      <div id=\"artist-info\"></div>\n      <div id=\"chart-taf\">\n        {data && domain && createChart()}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\nimport { useHistory } from \"react-router\";\nimport BubblesGraphTAF from \"../components/BubblesGraphTAF\";\nimport VusicLoader from \"../components/VusicLoader\";\nimport Error from \"../components/Error\";\n\nexport const GET_ARTIST = gql`\n  query GetArtist {\n    topArtists {\n      id\n      name\n      popularity\n      genres\n      followers {\n        href\n        total\n      }\n      images {\n        height\n        url\n        width\n      }\n      external_urls {\n        spotify\n      }\n    }\n  }\n`;\n\nexport default function TopArtistsFollowers() {\n  // If a user selects an artist's bubble, will send user\n  // to the artist's id, looking for related artists\n  const history = useHistory();\n\n  const onClick = (id, name, images, external_urls) => {\n    history.push({\n      pathname: `${id}/related-artists`,\n      state: {\n        id: id,\n        name: name,\n        images: [...images],\n        external_urls: { ...external_urls },\n      },\n    });\n  };\n\n  return (\n    <div>\n      <Query query={GET_ARTIST}>\n        {({ loading, data }) => {\n          if (loading) {\n            return <VusicLoader />;\n          }\n          if (!data.topArtists) {\n            return <Error />\n          }\n          data.topArtists.forEach((element) => {\n            element.numbers = element.followers.total;\n          });\n\n          return (\n            <>\n              <h1 >\n                Artists by Followers\n              </h1>\n              <BubblesGraphTAF graphData={data} onClick={onClick}></BubblesGraphTAF>\n            </>\n          );\n        }}\n      </Query>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ChordDiagram from \"react-chord-diagram\";\nimport useWindowDimensions from \"../helpers/userWindowDimensions\";\nimport \"./ChordChart.scss\";\n\nexport default function Chords(props) {\n  const { height, width } = useWindowDimensions();\n  const mobileHeight = height < 600 ? 2 : 1.1;\n  const mobileWidth = width < 600 ? 1.1 : 1;\n\n  const data = [...props.graphData.topArtists];\n\n  // Currently, about 15 songs looks the best for the graph\n  const nameOrGenres = [];\n  const slicedArray = data.slice(0, 15);\n  for (let i = 0; i < 15; i++) {\n    nameOrGenres.push(data[i].name, ...data[i].genres);\n  }\n\n  // Remove any duplicates from the mega array\n  const all = [...new Set(nameOrGenres)];\n\n  const realData = [];\n  all.forEach((allElement) => {\n    const realObj = {\n      // source: \"\"\n      // target: []\n    };\n    // Bowie\n    realObj.source = allElement;\n\n    const targetArr = [];\n    slicedArray.forEach((sliceElement) => {\n      if (sliceElement.name === allElement) {\n        // Push all genres into target\n        targetArr.push([...sliceElement.genres]);\n      } else {\n        // Name doesn't match, look through all genres for match\n        sliceElement.genres.forEach((genreElement) => {\n          // One of the artist's genres matches, push it to target\n          if (genreElement === allElement) {\n            targetArr.push(sliceElement.name);\n          }\n        });\n      }\n      realObj.target = targetArr;\n    });\n    realData.push(realObj);\n  });\n\n  // Create an array of arrays where the axes correspond to their target\n  // finalArray length will be the same length of each inner array's length\n  const finalArray = [];\n  for (const axis of realData) {\n    const eachMatch = [];\n\n    all.forEach((element) => {\n      if (axis.target.find((relation) => relation === element)) {\n        eachMatch.push(1);\n      } else {\n        eachMatch.push(0);\n      }\n    });\n    finalArray.push(eachMatch);\n  }\n\n  // Making random colors\n  const random = () => {\n    return (\n      \"rgb(\" +\n      (Math.floor(Math.random() * 100) + 75) +\n      \",\" +\n      (Math.floor(Math.random() * 100) + 155) +\n      \",\" +\n      (Math.floor(Math.random() * 100) + 75) +\n      \")\"\n    );\n  };\n\n  const colors = [];\n  all.forEach(() => colors.push(random()));\n\n  return (\n    <>\n      <h1 class=\"d-flex\">\n        Artists and Genres from your Top Tracks\n      </h1>\n      <div id=\"prompt\">\n        <div id=\"prompt-message\">\n          Rotate Device\n        </div>\n        <i class=\"fas fa-mobile-alt\"></i>\n      </div>\n      <div id=\"chord\">\n        <ChordDiagram\n          matrix={finalArray}\n          componentId={1}\n          groupLabels={all}\n          labelColors={colors}\n          groupColors={colors}\n          padAngle={0.06}\n          height={height * mobileHeight}\n          width={width * mobileWidth}\n          outerRadius={225}\n          innerRadius={200}\n          strokeWidth={1.5}\n          persistHoverOnClick={true}\n          disableHover={false}\n          style={{\n            // Some of the styling for the chord chart is here\n            // And is more specific, so possibly easier to manage\n            textTransform: \"capitalize\",\n            fontWeight: \"bolder\",\n            wordWrap: \"break-word\",\n            letterSpacing: \"2px\",\n          }}\n        />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport ChordChart from '../components/ChordChart';\nimport VusicLoader from '../components/VusicLoader';\nimport Error from '../components/Error';\n\nexport const GET_ARTIST = gql`\n  query GetArtist {\n    topArtists {\n      id\n      name\n      genres\n      images {\n        height\n        url\n        width\n      }\n    }\n  }\n`;\n\nexport default function TopArtistsPopularity () {\n  return (\n    <div>\n      <Query query={GET_ARTIST}>\n        {({ loading, data }) => {\n          if (loading) {\n            return (\n              <VusicLoader />\n            );\n          }\n          if (!data.topArtists) {\n            return <Error />\n          }\n          return(\n            <ChordChart graphData={data}></ChordChart>\n          );\n        }}\n      </Query>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport ResizeObserver from \"resize-observer-polyfill\";\n\n/**\n * Hook, that returns the current dimensions of an HTML element.\n * Doesn't play well with SVG.\n */\n\nconst useResizeObserver = ref => {\n  const [dimensions, setDimensions] = useState(null);\n  useEffect(() => {\n    const observeTarget = ref.current;\n    const resizeObserver = new ResizeObserver(entries => {\n      entries.forEach(entry => {\n        setDimensions(entry.contentRect);\n      });\n    });\n    resizeObserver.observe(observeTarget);\n    return () => {\n      resizeObserver.unobserve(observeTarget);\n    };\n  }, [ref]);\n  return dimensions;\n};\n\nexport default useResizeObserver;\n","import React, { useRef, useEffect } from \"react\";\nimport {\n  select,\n  hierarchy,\n  forceSimulation,\n  forceManyBody,\n  pointer,\n  forceX,\n  forceY,\n  forceCollide,\n  scaleSqrt\n} from \"d3\";\nimport useResizeObserver from \"../helpers/useResizeObserver\";\nimport useWindowDimensions from '../helpers/userWindowDimensions'\nimport './ForceChart.scss';\n\nexport default function ForceTreeChart(props) {\n  const { height, width } = useWindowDimensions();\n  const mobileHeight = width < 900 && width < height ? 1.7 : 1;\n  const hoverPadding = width < 900 ? 1.3 : 1.2;\n\n  // Artist which all other artists are related to\n  const parent = { ...props.parent }\n\n  // Set all artists to create the defs which will be used\n  // to correctly set the artist image urls\n  // Add parent to the list\n  const allArtists = [...props.graphData.relatedArtists]\n  allArtists.unshift({ ...parent })\n\n  // This is used for the actual node and link dependencies\n  // spread the related artists in childArr for .dependencies to use\n  const childArr = [...props.graphData.relatedArtists]\n  const parentArtist = {\n    ...parent,\n    children: [...childArr]\n  }\n\n  // Require a function call to navigate to a new tab\n  const spotifyClick = (url) => {\n    window.open(url, '_blank');\n  }\n\n  const svgRef = useRef();\n  const wrapperRef = useRef();\n  const dimensions = useResizeObserver(wrapperRef);\n\n  // Will be called initially and when data comes through\n  useEffect(() => {\n\n    if (!dimensions) return;\n    const svg = select(svgRef.current);\n\n    // centering workaround\n    svg.attr(\"id\", \"force-chart\")\n      .attr(\"viewBox\", [\n        -dimensions.width / 2,\n        -dimensions.height / 2,\n        width,\n        height / mobileHeight\n      ]);\n\n    const div = select(\"#artist-info\")\n      .append(\"div\")\n      .attr(\"class\", \"circle-info\")\n      .style(\"opacity\", 0)\n\n    // Defs for setting up the images that will load on the circles\n    const defs = svg.append(\"defs\")\n    defs.selectAll(\".artist-pattern\")\n      .data(allArtists)\n      .enter().append(\"pattern\")\n      .attr(\"class\", \"artist-pattern\")\n      .attr(\"id\", function (d) {\n        return d.name.toLowerCase().replace(/ /g, \"-\").replace(/'/g, \"-\").replace(/\"/g, \"-\")\n      })\n      .attr(\"height\", \"100%\")\n      .attr(\"width\", \"100%\")\n      .attr(\"patternContentUnits\", \"objectBoundingBox\")\n      .append(\"image\")\n      .attr(\"height\", 1)\n      .attr(\"width\", 1)\n      .attr(\"preserveAspectRatio\", \"none\")\n      .attr(\"xmlns:xlink\", \"http://www.w3.org/1999/xlink\")\n      .attr(\"xlink:href\", function (d) {\n        return (d.images[0] ? d.images[0].url : `https://nilepost.co.ug/wp-content/uploads/2021/02/Spotify-logo.jpg`)\n      })\n\n    // d3 util to work with hierarchical data\n    const root = hierarchy(parentArtist);\n    const nodeData = root.descendants();\n    const linkData = root.links();\n\n    // Radius scale to change size of circles with screen height/width\n    const radiusScale = scaleSqrt().domain([0, width * 2 - 100]).range([0, width * 1.5]);\n\n    const simulation = forceSimulation(nodeData)\n      .force(\"charge\", forceManyBody().strength(-10))\n      .force(\"collide\", forceCollide(function (d) {\n        return radiusScale(d.data.name === parent.name ? 3.5 : 1) + 15\n      }))\n      .on(\"tick\", () => {\n\n        svg\n          .selectAll(\".alpha\")\n          .data([parentArtist])\n          .attr(\"class\", \"alpha\")\n          .text(simulation.alpha().toFixed(2))\n          .attr(\"x\", -dimensions.width / 2 + 10)\n          .attr(\"y\", -dimensions.height / 2 + 25);\n\n        // Links between circles\n        svg\n          .selectAll(\".link\")\n          .data(linkData)\n          .join(\"line\")\n          .attr(\"class\", \"link\")\n          .style(\"stroke\", \"#22c95c\")\n          .attr(\"fill\", \"none\")\n          .attr(\"x1\", link => link.source.x)\n          .attr(\"y1\", link => link.source.y)\n          .attr(\"x2\", link => link.target.x)\n          .attr(\"y2\", link => link.target.y);\n\n        // Each circle\n        svg\n          .selectAll(\".node\")\n          .data(nodeData)\n          .join(\"circle\")\n          .attr(\"class\", \"node\")\n          .attr(\"r\", function (d) {\n            return radiusScale(d.data.name === parent.name ? 4 : 1)\n          })\n          .attr(\"cx\", node => node.x)\n          .attr(\"cy\", node => node.y)\n          .attr(\"fill\", function (d) {\n            return `url(#${d.data.name.toLowerCase().replace(/ /g, \"-\").replace(/'/g, \"-\").replace(/\"/g, \"-\")})`;\n          })\n          .style(\"stroke\", \"#22c95c\")\n          .attr(\"stroke-width\", \"3px\")\n          .on('mouseover', function (event, d) {\n            // Show div with artist name and allow user to click link\n\n            select(this)\n              .transition()\n              .duration('1')\n              .attr('opacity', '.95')\n              .style(\"cursor\", \"pointer\")\n              .style(\"stroke\", \"white\")\n\n            div.transition()\n            .duration(50)\n            .style(\"opacity\", 1)\n\n            div.on('mouseover', function() {\n              select(this)\n                  .transition()\n                  .duration(50)\n                  .style(\"opacity\", 1)\n              })\n              .on('mouseout', function() {\n                select(this)\n                  .transition()\n                  .duration('50')\n                  .style(\"opacity\", 0);\n              });\n\n            let dataDiv = `${d.data.name}`\n            div.html(dataDiv)\n              .style(\"position\", \"absolute\")\n              .style(\"left\", `${event.pageX + 20}px`)\n              .style(\"top\", `${event.pageY}px`)\n              // !--! Add styling to css eventually\n              .style(\"padding\", \"7px\")\n\n          })\n          .on('mouseout', function (d, i) {\n            select(this).transition()\n              .duration('1')\n              .attr('opacity', '1')\n              .style(\"cursor\", \"default\")\n              .style(\"stroke\", \"#22c95c\");\n            div.transition()\n              .duration('50')\n              .style(\"opacity\", 0);\n          })\n          .on(\"click\", function (event, d) {\n            spotifyClick(d.data.external_urls.spotify)\n          })\n      });\n\n    // Bring the circles back together slowly\n    svg.on(\"mousemove\", () => {\n      const [x, y] = pointer(svgRef.current);\n      simulation\n        .force(\n          \"x\",\n          forceX(x).strength(0.08)\n        )\n        .force(\n          \"y\",\n          forceY(y).strength(0.08)\n        );\n    });\n\n  }, [parent, allArtists, dimensions, height, width]);\n\n  return (\n    <div ref={wrapperRef} style={{}}>\n      <div id=\"artist-info\"></div>\n      <svg ref={svgRef}></svg>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport * as d3 from 'd3';\nimport useWindowDimensions from '../helpers/userWindowDimensions';\nimport { select } from 'd3';\nimport './BubblesGraph.scss';\n\nexport default function BubblesGraph(props) {\n  const [data, setData] = useState()\n  const [domain, setDomain] = useState({ min: 0, max: 150 })\n  const { height, width } = useWindowDimensions();\n  const mobileWidth = (width < 650 ? 1.5 : 1)\n\n  // Generating random colors for stroke\n  const random = () => {\n    return (`rgb(${(Math.floor(Math.random() * 100) + 75)}, ${(Math.floor(Math.random() * 100) + 155)}, ${(Math.floor(Math.random() * 100) + 75)})`);\n  }\n\n  // Require a function call to navigate to a new tab\n  const spotifyClick = (url) => {\n    window.open(url, '_blank');\n  }\n\n  useEffect(() => {\n    // Initilization\n    const graphData = (props.graphData.topArtists ? props.graphData.topArtists : props.graphData.topTracks)\n\n    const arr = [];\n    graphData.forEach((element) => { arr.push(element.numbers) })\n    const min = Math.min(...arr);\n    const max = Math.max(...arr);\n\n    setDomain({\n      min: min,\n      max: max\n    })\n    setData(graphData)\n  }, [props.graphData.topArtists, props.graphData.topTracks])\n\n  // Constructing the chart in the return\n  const createChart = () => {\n    // For setting the radius of bubbles\n    let radiusScale = d3.scaleLinear().domain([0, 100 * (mobileWidth)]).range([15, domain.max])\n    if (domain.max > 100) {\n      radiusScale = d3.scaleSqrt().domain([domain.min, domain.max]).range([0, 110]);\n    }\n\n    select(\"#chart-ttp\").selectAll(\"*\").remove()\n\n    const svg = d3\n      .select(\"#chart-ttp\")\n      .append(\"svg\")\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n      .attr(\"viewBox\", `0 ${width < 650 ? height * .1 : 0} ${width} ${height}`)\n      .classed(\"svg-content-responsive\", true)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,0)\");\n\n    // Text info on hover\n    const div = select(\"#artist-info\")\n      .append(\"div\")\n      .attr(\"class\", \"circle-info\")\n      .style(\"opacity\", 0)\n\n    // Animation\n    const simulation = d3.forceSimulation()\n      .force(\"x\", d3.forceX(width / 2).strength(0.1))\n      .force(\"y\", d3.forceY(height / 2).strength(0.1))\n      .force(\"collide\", d3.forceCollide((d) => {\n        return radiusScale(d.numbers) + 3;\n      }))\n      .nodes(data)\n\n    // Start drawing\n    svg.append(\"defs\")\n      .selectAll(\".artist-pattern\")\n      .data(data)\n      .enter()\n      .append(\"pattern\")\n      .attr(\"class\", \"artist-pattern\")\n      .attr(\"id\", function (data) {\n        return data.id\n      })\n      .attr(\"height\", '100%')\n      .attr(\"width\", '100%')\n      .attr(\"patternContentUnits\", \"objectBoundingBox\")\n      .append(\"image\")\n      .attr(\"height\", 1)\n      .attr(\"width\", 1)\n      .attr(\"preserveAspectRatio\", \"none\")\n      .attr(\"xlink:href\", function (data) { return data.images[0].url })\n\n    // Bubble graph circles\n    const circles = svg.selectAll(\".artist\")\n      .data(data)\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"artist\")\n      .style(\"stroke\", random())\n      .attr(\"stroke-width\", \"3px\")\n      .style(\"cursor\", \"pointer\")\n      .attr(\"id\", (data) => {\n        return data.id\n      })\n      .on(\"click\", function (event, d) {\n        // Only songs have albums property - don't create\n        // force chart but open link to song instead\n        if (d.album) {\n          spotifyClick(d.external_urls.spotify)\n        } else {\n          props.onClick(\n            d.id,\n            d.name,\n            d.images,\n            d.external_urls\n          );\n        }\n      })\n      .attr(\"r\", (data) => {\n        return radiusScale(data.numbers)\n      })\n      .attr(\"fill\", function (data) {\n        return `url(#${data.id})`;\n      })\n      .on(\"mouseover\", function (e, d) {\n        select(this)\n          .attr(\"stroke-width\", \"5px\")\n          .style(\"stroke\", \"#fff\")\n\n        // Show div with artist name and allow user to click link\n        select(this)\n          .transition()\n          .duration('1')\n          .attr('opacity', '.95')\n          .style(\"cursor\", \"pointer\");\n\n        div.transition()\n          .duration(50)\n          .style(\"opacity\", 1)\n\n        // Prevent div from disappearing when hovering over it\n        div.on('mouseover', function (e, d) {\n          select(this)\n            .transition()\n            .duration(50)\n            .style(\"opacity\", 1)\n        })\n          .on('mouseout', function (e, d) {\n            select(this)\n              .transition()\n              .duration('50')\n              .style(\"opacity\", 0);\n          });\n\n        div.html(`${d.name} | ${d.numbers.toLocaleString()}`)\n          .style(\"position\", \"absolute\")\n          .style(\"left\", `${e.pageX + 20}px`)\n          .style(\"top\", `${e.pageY}px`)\n          .style(\"padding\", \"5px\")\n      })\n      .on(\"mouseout\", function (e, d) {\n        select(this)\n          .attr(\"stroke-width\", \"3px\")\n          .style(\"stroke\", random())\n\n        div.transition()\n          .duration('50')\n          .style(\"opacity\", 0);\n      })\n\n\n    // Move circle into position\n    const ticked = () => {\n      circles\n        .attr(\"cx\", (d) => d.x)\n        .attr(\"cy\", (d) => d.y);\n    };\n\n    // Animation start\n    simulation\n      .nodes(data)\n      .on('tick', ticked);\n  }\n\n  return (\n    <div>\n      <div id=\"artist-info\"></div>\n      <div id=\"chart-ttp\">\n        {data && domain && createChart()}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\nimport BubblesGraphTTP from \"../components/BubblesGraphTTP\";\nimport VusicLoader from \"../components/VusicLoader\";\nimport Error from \"../components/Error\";\n\nexport const GET_TRACK = gql`\n  query GetTrack {\n    topTracks {\n      id\n      name\n      popularity\n      external_urls {\n        spotify\n      }\n      album {\n        images {\n          height\n          url\n          width\n        }\n      }\n    }\n  }\n`;\n\nexport default function TopTracks(props) {\n  return (\n    <div>\n      <Query query={GET_TRACK}>\n        {({ loading, data }) => {\n          if (loading) {\n            return <VusicLoader />;\n          }\n          if (!data.topTracks) {\n            return <Error />\n          }\n          data.topTracks.forEach((element) => {\n            element.numbers = element.popularity;\n            element.images = [...element.album.images];\n          });\n\n          return (\n            <>\n              <h1 class=\"d-flex justify-content-flex-end\">\n                Tracks by Popularity\n              </h1>\n              <BubblesGraphTTP graphData={data}></BubblesGraphTTP>\n            </>\n          );\n        }}\n      </Query>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Radar from \"react-d3-radar\";\nimport * as d3 from \"d3\";\nimport useWindowDimensions from \"../helpers/userWindowDimensions\";\nimport { select } from \"d3\";\nimport \"./RadarGraph.scss\";\n\nexport default function RadarGraph(props) {\n  const [tracksNames, setTracksNames] = useState();\n  const [tracksAnalysis, setTracksAnalysis] = useState();\n  const [audioFeatures, setAudioFeatures] = useState();\n  const [sets, setSets] = useState();\n\n  const { height, width } = useWindowDimensions();\n  const mobileWidth = (width > height && height > 400 ? 2 : 3)\n  const mobileHeight = (width < height && width < 700 ? 3.2 : 1.4)\n\n  const transformData = function (values) {\n    let result = [];\n    values &&\n      values.forEach((value) => {\n        let set = {};\n        set[\"key\"] = value.id;\n        set[\"values\"] = {\n          danceability: value.danceability,\n          energy: value.energy,\n          speechiness: value.speechiness,\n          acousticness: value.acousticness,\n          instrumentalness: value.instrumentalness,\n          liveness: value.liveness,\n          valence: value.valence,\n        };\n        result.push(set);\n      });\n    return result;\n  };\n\n  useEffect(() => {\n    setAudioFeatures([\n      { key: \"danceability\", label: \"Danceability\" },\n      { key: \"energy\", label: \"Energy\" },\n      { key: \"speechiness\", label: \"Speechiness\" },\n      { key: \"acousticness\", label: \"Acousticness\" },\n      { key: \"instrumentalness\", label: \"Instrumentalness\" },\n      { key: \"liveness\", label: \"Liveness\" },\n      { key: \"valence\", label: \"Valence\" },\n    ]);\n\n    setTracksNames(props.dataGraphFirst.top10Tracks);\n    setTracksAnalysis(props.dataGraphSecond.tracksAnalysis);\n    setSets(transformData(tracksAnalysis));\n  }, [\n    props.dataGraphFirst.top10Tracks,\n    props.dataGraphSecond.tracksAnalysis,\n    tracksAnalysis,\n  ]);\n\n  const topTracks = d3.select(\"#top-tracks\");\n\n  topTracks\n    .selectAll(\"li\")\n    .data(tracksNames)\n    .enter()\n    .append(\"li\")\n    .text((d) => {\n      return d.name;\n    })\n    .on(\"mouseover\", function (event, d) {\n      for (const element of tracksAnalysis) {\n        if (element.id === d.id) {\n          select(this).style(\"background-color\", \"#22c95c\");\n          setSets([\n            // Give empty objects so the third object with data\n            // gets a visible color on dark background\n            {},\n            {},\n            {\n              key: element.id,\n              values: {\n                danceability: element.danceability,\n                energy: element.energy,\n                speechiness: element.speechiness,\n                acousticness: element.acousticness,\n                instrumentalness: element.instrumentalness,\n                liveness: element.liveness,\n                valence: element.valence,\n              },\n            },\n          ]);\n        }\n      }\n    })\n    .on(\"mouseout\", (event, d) => {\n      setSets(transformData(tracksAnalysis));\n      topTracks.selectAll(\"li\").style(\"background-color\", \"#292929\");\n    });\n\n  // The display require some changes depending on the screen size here\n  // Works in tandem with the scss styling\n  const tmpStyle = {\n    display: width <= 500 ? \"none\" : \"flex\",\n    flexDirection: width < 900 ? \"column\" : \"row\",\n    paddingTop: \"3%\",\n    margin: \"0 5%\",\n  };\n\n  const createRadar = () => {\n    return (\n      <>\n        <Radar\n          width={width / (mobileWidth)}\n          height={height / (mobileHeight)}\n          padding={50}\n          domainMax={1}\n          highlighted={null}\n          data={{\n            variables: audioFeatures,\n            sets: sets,\n          }}\n        />\n      </>\n    );\n  };\n\n  return (\n    <>\n      <h1 >\n        Top Tracks Analysis\n      </h1>\n      <div id=\"prompt-radar\">\n        <div id=\"prompt-message-radar\">Rotate Device</div>\n        <i class=\"fas fa-mobile-alt\"></i>\n      </div>\n      <div id=\"#radar\" style={tmpStyle}>\n        {tracksNames && tracksAnalysis && createRadar()}\n        <div id=\"tracks-list\" className=\"d-flex flex-column\">\n          <span id=\"title\" className=\"text-center\">\n            Tracks List\n          </span>\n          <ul id=\"top-tracks\"></ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\nimport RadarGraph from \"../components/RadarGraph\";\nimport VusicLoader from \"../components/VusicLoader\";\nimport Error from \"../components/Error\";\n\nconst TOP_TRACKS = gql`\n  query TOP_TRACKS {\n    top10Tracks {\n      id\n      name\n    }\n  }\n`;\nconst TRACKS_ANALYSIS = gql`\n  query TRACKS_ANALYSIS {\n    tracksAnalysis {\n      id\n      danceability\n      energy\n      speechiness\n      acousticness\n      instrumentalness\n      liveness\n      valence\n    }\n  }\n`;\n\nexport default function TopTracksAnalysis() {\n  return (\n    <Query query={TOP_TRACKS}>\n      {({ loading: loadingOne, data: one }) => (\n        <Query query={TRACKS_ANALYSIS}>\n          {({ loading: loadingTwo, data: two }) => {\n            if (loadingOne || loadingTwo) {\n              return (\n                <VusicLoader/>\n              );\n            }\n            if (!one.top10Tracks || !two.tracksAnalysis) {\n              return <Error />\n            }\n              return (\n                <RadarGraph dataGraphFirst={one} dataGraphSecond={two}></RadarGraph>\n              );\n            }}\n          </Query>\n        )}\n      </Query>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport { select } from \"d3\";\nimport useWindowDimensions from \"../helpers/userWindowDimensions\";\nimport \"./HeatMap.scss\";\n\nexport default function HeatMap(props) {\n  const { height, width } = useWindowDimensions();\n\n  const [info, setInfo] = useState([null]);\n  const [data, setData] = useState({\n    base: 0,\n    albumCount: [\n      {\n        albums: [],\n      },\n    ],\n  });\n\n  // There's some not-perfect-science with width and getting the graph\n  // just right, should find a way to make this dynamic\n  const graphWidth = width / 1.25;\n  const graphHeight = height / 1.25;\n\n  // Find the min and max years in our data, to be used in scales\n  const minYear = d3.min(data.albumCount, (item) => item[\"year\"]);\n  const maxYear = d3.max(data.albumCount, (item) => item[\"year\"]);\n\n  // x-axis scale\n  const xScale = d3\n    .scaleLinear()\n    .domain([minYear, maxYear + 1])\n    .range([60, graphWidth - 60]);\n\n  // y-axis scale\n  const yScale = d3\n    .scaleTime()\n    .domain([new Date(0, 0, 0, 0, 0, 0, 0), new Date(0, 12, 0, 0, 0, 0, 0)])\n    .range([60, graphHeight - 60]);\n\n  let cellInfo = d3.select(\"#cell-info\");\n  let albums = d3.select(\"#albums\");\n  let canvas = d3.select(\"#canvas\");\n\n  canvas.attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n\n  useEffect(() => {\n    // Combine all artists from the two queries\n    const allArtists = [\n      ...props.dataGraphFirst.topTrackOffset,\n      ...props.dataGraphSecond.topTrackOffset,\n    ];\n\n    // Create an array of the year and month of each release data\n    const albumYearMonth = [];\n    const fullInfo = [];\n    allArtists.forEach((artist) => {\n      const obj = {};\n      albumYearMonth.push(artist.album.release_date.slice(0, 7));\n      obj.id = artist.id;\n      obj.date = artist.album.release_date.slice(0, 7);\n      obj.artist = artist.artists[0].name;\n      obj.track = artist.name;\n      obj.image = artist.album.images[0].url;\n      fullInfo.push(obj);\n    });\n\n    // From the release dates, find the count of each\n    // ie. number of times 1982-02 appears\n    // create an object of the year/month and the count\n    const countOccurrences = (arr) =>\n      arr.reduce((prev, curr) => ((prev[curr] = ++prev[curr] || 1), prev), {});\n    const eachOccurence = countOccurrences(albumYearMonth);\n\n    // Data format for plotting the graph\n    // 'Base' is number of albums for that year/month, initially 0\n    // Track how many albums in that year/month against base\n    // Also track info on which artist and album is in that year/month\n    const dateData = {\n      base: 0,\n      albumCount: [\n        // {\n        // year:\n        // month:\n        // count:\n        // albums: [\n        // {\n        // date:\n        // artist:\n        // image:\n        // track:\n        // }\n        // ]\n        // }\n      ],\n    };\n\n    // For each item in the object, create an object of\n    // the year, month, and count to push into albumCount\n    // Some albums don't have release months, so choose 1\n    for (const album in eachOccurence) {\n      const objCount = {};\n      objCount.year = Number(album.slice(0, 4));\n      objCount.month = Number(\"\" === album.slice(5, 7) ? 1 : album.slice(5, 7));\n      objCount.count = Number(eachOccurence[album]);\n\n      // Find which dates correspond to which artist's album\n      const albumsArr = [];\n      for (const item of fullInfo) {\n        if (album.slice(0, 7) === item.date) {\n          albumsArr.push(item);\n        }\n      }\n      objCount.albums = albumsArr;\n      dateData.albumCount.push(objCount);\n    }\n\n    setInfo(fullInfo);\n    setData(dateData);\n  }, [props.dataGraphFirst, props.dataGraphSecond]);\n\n  const createChart = () => {\n    // Reset any cells on re-render, remove any info text as well\n    canvas.selectAll(\"*\").remove();\n    cellInfo.text(\"\");\n    albums.selectAll(\"*\").remove();\n\n    // Transition to make the cells appear slowly on the graph\n    const slowReveal = () => {\n      rect\n        .transition()\n        .ease(d3.easeLinear)\n        .duration(300)\n        .delay((d, i) => i * Math.floor(Math.random() * 75))\n        .style(\"opacity\", 1);\n    };\n\n    // Each rectangle generated by data\n    const rect = canvas\n      .selectAll(\"rect\")\n      .data(data.albumCount)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"cell\")\n      .attr(\"stroke\", \"#000\")\n      .attr(\"stroke-width\", \"1px\")\n      .attr(\"fill\", (item) => {\n        const colors = {\n          1: \"#CBF4AD\",\n          2: \"#B3F783\",\n          3: \"#95F952\",\n          4: \"#66FC02\",\n          5: \"#53EA02\",\n          6: \"#45CC02\",\n          7: \"#39A801\",\n        };\n        // Return darkest color if colors is undefined (> 8 albums)\n        return colors[item[\"count\"]] ? colors[item[\"count\"]] : \"#306B00\";\n      })\n      .attr(\"data-year\", (item) => item[\"year\"])\n      .attr(\"data-month\", (item) => item[\"month\"] - 1)\n      .attr(\"data\", (item) => item[\"albumCount\"])\n      .attr(\"height\", `${(graphHeight - 60 * 2) / 12}`)\n      .attr(\"width\", (item) => {\n        let numberOfYears = maxYear - minYear;\n        return (graphWidth - 60 * 2) / numberOfYears;\n      })\n      .attr(\"y\", (item) =>\n        yScale(new Date(0, item[\"month\"] - 1, 0, 0, 0, 0, 0))\n      )\n      .attr(\"x\", (item) => xScale(item[\"year\"]))\n      .style(\"opacity\", 0)\n      .on(\"click\", function (event, item, index) {\n        // Remove any previous info divs and styling\n        cellInfo.transition().style(\"visibility\", \"hidden\");\n        albums.transition().style(\"visibility\", \"hidden\");\n        albums.selectAll(\"li\").remove();\n\n        // Reset all cells to black borders\n        canvas\n          .selectAll(\"rect\")\n          .attr(\"stroke\", \"black\")\n          .attr(\"stroke-width\", \"1px\");\n\n        // Highlight this specific cell\n        select(this)\n          .raise()\n          .attr(\"stroke\", \"white\")\n          .attr(\"stroke-width\", \"3px\");\n\n        cellInfo.transition().style(\"visibility\", \"visible\");\n        albums.transition().style(\"visibility\", \"visible\");\n\n        const months = {\n          1: \"January\",\n          2: \"February\",\n          3: \"March\",\n          4: \"April\",\n          5: \"May\",\n          6: \"June\",\n          7: \"July\",\n          8: \"August\",\n          9: \"September\",\n          10: \"October\",\n          11: \"November\",\n          12: \"December\",\n        };\n\n        cellInfo\n          .text(\n            `${months[item[\"month\"]]} ${item[\"year\"]}: ${item[\"count\"]} Track${\n              item[\"count\"] === 1 ? \"\" : \"s\"\n            }`\n          )\n          .attr(\"data-year\", item[\"year\"]);\n\n        albums\n          .selectAll(\"li\")\n          .data(item.albums)\n          .enter()\n          .append(\"li\")\n          .attr(\"class\", \"album\")\n          .text((item) => {\n            return `\"${item[\"track\"]}\" by ${item[\"artist\"]}`;\n          });\n      });\n\n    // Creating the axes in the graph ----------------\n    let xAxis = d3.axisBottom(xScale).tickFormat(d3.format(\"d\"));\n\n    let yAxis = d3.axisLeft(yScale).tickFormat(d3.timeFormat(\"%b\"));\n\n    canvas\n      .append(\"g\")\n      .call(xAxis)\n      .attr(\"id\", \"x-axis\")\n      .attr(\"transform\", `translate(0, ${graphHeight - 56})`)\n      .attr(\"stroke-width\", \"5px\");\n\n    canvas\n      .append(\"g\")\n      .call(yAxis)\n      .attr(\"id\", \"y-axis\")\n      .attr(\"transform\", `translate(${56}, 0)`)\n      .attr(\"stroke-width\", \"5px\");\n\n    slowReveal();\n  };\n\n  return (\n    <>\n      <div class=\"background-title\">\n        <h1 class=\"d-flex\">Top Tracks Release Years</h1>\n      </div>\n      <div id=\"prompt\">\n        <div id=\"prompt-message\">Rotate Device</div>\n        <i class=\"fas fa-mobile-alt\"></i>\n      </div>\n      <div id=\"main\">\n        {data && createChart()}\n        <svg id=\"canvas\"></svg>\n        <div id=\"info\">\n          <div id=\"cell-info\"></div>\n          <ul id=\"albums\"></ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport * as d3d from 'd3';\nimport * as HexbinPlot from 'd3-hexbin';\nimport { select } from 'd3';\nimport { Button } from 'react-bootstrap';\nimport useWindowDimensions from '../helpers/userWindowDimensions';\nimport './HexagonGraph.scss';\n\n//manually combine d3-hexbin into d3\nconst d3 = {\n  ...d3d,\n  hexbin: HexbinPlot.hexbin\n}\nexport default function HexagonGraph(props) {\n  const { height, width } = useWindowDimensions();\n\n  //generate random int which is used to show photoes in hexagons\n  function getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n  // Added top artists to grab the images from the data\n  const data = props.graphData.topArtists\n\n  //future dynamic data update feature with useEffect\n  useEffect(() => {\n    select(\"#plot-area\").selectAll(\"*\").remove();\n\n    //initilization\n    const MapColumns = 20;\n    const MapRows = 20;\n    const hexRadius = 100;\n    const hexbin = d3.hexbin();\n    hexbin.radius = hexRadius;\n\n    //Calculate the center positions of each hexagon\n    const points = [];\n    for (let i = 0; i < MapRows; i++) {\n      for (let j = 0; j < MapColumns; j++) {\n        let x = hexRadius * j * Math.sqrt(3);\n        if (i % 2 === 1) x += (hexRadius * Math.sqrt(3)) / 2;\n        let y = hexRadius * i * 1.5;\n        points.push([x, y]);\n      }\n    };\n\n    //Create SVG element\n    const svg = d3\n      .select(\"#plot-area\")\n      .append(\"svg\")\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n      .attr(\"viewBox\", \"50 50 1500 1000\")\n      .classed(\"svg-content-responsive\", true)\n      .append(\"g\");\n\n    //add all photoes into the web page\n    for (let i = 0; i < data.length; i++) {\n      svg.append('svg:defs')\n        .append(\"svg:pattern\")\n        .style(\"fill-opacity\", 1)\n        .attr(\"id\", 'a'.repeat(i))\n        .attr(\"width\", 200)\n        .attr(\"height\", 200)\n        .attr(\"x\", -60)\n        .attr(\"y\", -50)\n        .append(\"svg:image\")\n        .attr(\"xlink:href\", data[i].images[2].url)\n        .attr(\"width\", 200)\n        .attr(\"height\", 200);\n    };\n\n    //Start drawing the hexagons\n    svg.selectAll(\".hexagons\")\n      .data(hexbin(points))\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", \"hexagon\")\n      .attr(\"d\", function (d) {\n        return \"m\" + d.x + \",\" + d.y + hexbin.hexagon();\n      })\n      .attr(\"stroke\", '#292929')\n      .attr(\"stroke-width\", \"172px\")\n      .on(\"click\", function () {\n        window.location.href = \"http://localhost:4000/login\";\n      })\n      .on('mouseover', function (d) {\n        d3.select(this)\n          .transition()\n          .duration(700)\n          .style(\"cursor\", \"pointer\")\n          .style('stroke-opacity', 1)\n          .style(\"stroke\", `url(#${'a'.repeat(getRandomInt(data.length))}`);\n      })\n      .on(\"mouseout\", function (d) {\n        d3.select(this)\n          .transition()\n          .duration(3000)\n          .style(\"stroke-opacity\", 0);\n      })\n  });\n\n  //create tag to show\n  return (\n    <>\n      <div id=\"plot-area\"></div>\n      <div id=\"login-welcome\">\n        <img id=\"brand\" src=\"/vusic_icon.png\" alt=\"vusic-icon\"></img>\n        <Button\n          variant=\"login-button\"\n          href=\"http://localhost:4000/login\"\n        >\n          View it!\n        </Button>\n      </div>\n    </>\n  );\n}\n","import HexagonGraph from '../components/HexagonGraph';\n// For more information, read\n// https://developer.spotify.com/web-api/authorization-guide/#authorization_code_flow\n\nconst Home = () => {\n  return (\n    <HexagonGraph graphData={data}></HexagonGraph>\n  );\n};\nexport default Home;\n\nconst data = {\n  \"topArtists\": [\n    {\n      \"id\": \"0oSGxfWSnnOXhD2fKuz2Gy\",\n      \"name\": \"David Bowie\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb0db3b11972a84207f256769b\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab676161000051740db3b11972a84207f256769b\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1780db3b11972a84207f256769b\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"2GetD8JH1hPJVDBjr1HiuP\",\n      \"name\": \"Chill Jazz-Lounge\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb99e3b84db2e43839f2fe78b8\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab6761610000517499e3b84db2e43839f2fe78b8\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f17899e3b84db2e43839f2fe78b8\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"47mIJdHORyRerp4os813jD\",\n      \"name\": \"League of Legends\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb01d9f68fbc43d5243dc2c0fe\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab6761610000517401d9f68fbc43d5243dc2c0fe\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f17801d9f68fbc43d5243dc2c0fe\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"3XHO7cRUPCLOr6jwp8vsx5\",\n      \"name\": \"alt-J\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb6587f1b18c9fab29d5164324\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab676161000051746587f1b18c9fab29d5164324\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1786587f1b18c9fab29d5164324\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"7daSp9zXk1dmqNxwKFkL35\",\n      \"name\": \"Kupla\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebbc2dba4435c794121d40fd23\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174bc2dba4435c794121d40fd23\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178bc2dba4435c794121d40fd23\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"4LLpKhyESsyAXpc4laK94U\",\n      \"name\": \"Mac Miller\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebed3b89aa602145fde71a163a\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174ed3b89aa602145fde71a163a\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178ed3b89aa602145fde71a163a\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"5KJjxTI0Nut0kY5xrqNzdd\",\n      \"name\": \"The Jazz Masters\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab67616d0000b2730c5070a0d07108a678b5b81d\",\n          \"width\": 640\n        },\n        {\n          \"height\": 300,\n          \"url\": \"https://i.scdn.co/image/ab67616d00001e020c5070a0d07108a678b5b81d\",\n          \"width\": 300\n        },\n        {\n          \"height\": 64,\n          \"url\": \"https://i.scdn.co/image/ab67616d000048510c5070a0d07108a678b5b81d\",\n          \"width\": 64\n        }\n      ]\n    },\n    {\n      \"id\": \"3koiLjNrgRTNbOwViDipeA\",\n      \"name\": \"Marvin Gaye\",\n      \"images\": [\n        {\n          \"height\": 1232,\n          \"url\": \"https://i.scdn.co/image/cf79bd3e5c787e2ec152eeb1ea5538b0d4cf1434\",\n          \"width\": 1000\n        },\n        {\n          \"height\": 788,\n          \"url\": \"https://i.scdn.co/image/f69e669cd95c6008c6220fd060982ff9516ed636\",\n          \"width\": 640\n        },\n        {\n          \"height\": 246,\n          \"url\": \"https://i.scdn.co/image/c2c1b3612f38b206411173c168b912d306b5c196\",\n          \"width\": 200\n        },\n        {\n          \"height\": 79,\n          \"url\": \"https://i.scdn.co/image/aa28a931be2da1c33411b0d6c106bcf6e3d17de7\",\n          \"width\": 64\n        }\n      ]\n    },\n    {\n      \"id\": \"4ytkhMSAnrDP8XzRNlw9FS\",\n      \"name\": \"Vince Guaraldi Trio\",\n      \"images\": [\n        {\n          \"height\": 1000,\n          \"url\": \"https://i.scdn.co/image/822d7cac5aa9649b2c8a0be5da89567f8b80ca56\",\n          \"width\": 1000\n        },\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/0c2ca300db3332bf24ae50cce9dbb1e5d3789ea6\",\n          \"width\": 640\n        },\n        {\n          \"height\": 200,\n          \"url\": \"https://i.scdn.co/image/2c2dbcbc0bce3aa7c0bca4f114ffec7a90688999\",\n          \"width\": 200\n        },\n        {\n          \"height\": 64,\n          \"url\": \"https://i.scdn.co/image/c649b5b0ef55206408245e435324ffc0dd376ae9\",\n          \"width\": 64\n        }\n      ]\n    },\n    {\n      \"id\": \"1nJvji2KIlWSseXRSlNYsC\",\n      \"name\": \"The Velvet Underground\",\n      \"images\": [\n        {\n          \"height\": 1236,\n          \"url\": \"https://i.scdn.co/image/d69c2cf10323bf08443c7d122f3a1824a760ab57\",\n          \"width\": 1000\n        },\n        {\n          \"height\": 791,\n          \"url\": \"https://i.scdn.co/image/24e7531935f88f55744cc8c9ed2528f466cba276\",\n          \"width\": 640\n        },\n        {\n          \"height\": 247,\n          \"url\": \"https://i.scdn.co/image/fedcb6f64de6571e2c208a21fc16b9e05e38cf2f\",\n          \"width\": 200\n        },\n        {\n          \"height\": 79,\n          \"url\": \"https://i.scdn.co/image/0fda1f46337398e35d5c7c672ddc77beb68a8f93\",\n          \"width\": 64\n        }\n      ]\n    },\n    {\n      \"id\": \"77aATgrzmuoRjmqxPcEIHU\",\n      \"name\": \"brillion.\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eba722a44cb87d406929238297\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174a722a44cb87d406929238297\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178a722a44cb87d406929238297\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"1CYsQCypByMVgnv17qsSbQ\",\n      \"name\": \"Crosby, Stills, Nash & Young\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb4e5018dad07ee004f171d7d3\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab676161000051744e5018dad07ee004f171d7d3\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1784e5018dad07ee004f171d7d3\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"3vzJueN7TkCtYpz1myVmDU\",\n      \"name\": \"Dontcry\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebc09101c3206236acff7a29bc\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174c09101c3206236acff7a29bc\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178c09101c3206236acff7a29bc\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"22WZ7M8sxp5THdruNY3gXt\",\n      \"name\": \"The Doors\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb440959e022afc20e819050bd\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174440959e022afc20e819050bd\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178440959e022afc20e819050bd\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"6bA2OonnJsG1tN9yClu2aC\",\n      \"name\": \"mell-ø\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb022046cc52cc0b8ccae376b0\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174022046cc52cc0b8ccae376b0\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178022046cc52cc0b8ccae376b0\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"6TeBxtluBMQixZcKkJ3ZrB\",\n      \"name\": \"HM Surf\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebc1105b865f1018cfc7df79d7\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174c1105b865f1018cfc7df79d7\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178c1105b865f1018cfc7df79d7\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"6vLlQYujOujIrm7zAKzEdG\",\n      \"name\": \"Donovan\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb913703ba6b15fb3ba0547de4\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab67616100005174913703ba6b15fb3ba0547de4\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178913703ba6b15fb3ba0547de4\",\n          \"width\": 160\n        }\n      ]\n    },\n    {\n      \"id\": \"50Ej4gF8iYESted3e4JZ4t\",\n      \"name\": \"dryhope\",\n      \"images\": [\n        {\n          \"height\": 640,\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb8e218737ce396af50b55e505\",\n          \"width\": 640\n        },\n        {\n          \"height\": 320,\n          \"url\": \"https://i.scdn.co/image/ab676161000051748e218737ce396af50b55e505\",\n          \"width\": 320\n        },\n        {\n          \"height\": 160,\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1788e218737ce396af50b55e505\",\n          \"width\": 160\n        },\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb3b4bd226aa9f649f654d7a4b\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051743b4bd226aa9f649f654d7a4b\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1783b4bd226aa9f649f654d7a4b\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb7af110ae8355616397610cd6\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051747af110ae8355616397610cd6\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1787af110ae8355616397610cd6\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb26dbdbdacda5c30dc95e0c2c\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000517426dbdbdacda5c30dc95e0c2c\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f17826dbdbdacda5c30dc95e0c2c\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebd167e8832647b8d8581d0328\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab67616100005174d167e8832647b8d8581d0328\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178d167e8832647b8d8581d0328\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ccbe7b4fef679f821988c78dbd4734471834e3d9\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/f8737f6fda048b45efe91f81c2bda2b601ae689c\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/df070ad127f62d682596e515ac69d5bef56e0897\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/cbbdfb209cc38b2999b1882f42ee642555316313\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/fc4e0f474fb4c4cb83617aa884dc9fd9822d4411\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/883de3e492364891543bc0313ffe516626778a16\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/810f29651e05c9eae5a31f8151c2e05dc46390f9\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/a283ecdc6252ae305c53d283846cae2e8b22e94c\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb2887890d0181869c01323db9\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051742887890d0181869c01323db9\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1782887890d0181869c01323db9\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb9d6c72d285ab349ce7a93529\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051749d6c72d285ab349ce7a93529\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1789d6c72d285ab349ce7a93529\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb567128259b78fea242010245\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab67616100005174567128259b78fea242010245\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178567128259b78fea242010245\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb66d17ee8690d2e8d94ee7387\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000517466d17ee8690d2e8d94ee7387\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f17866d17ee8690d2e8d94ee7387\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb6bedce2c2b8cd0fd56ca06ef\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051746bedce2c2b8cd0fd56ca06ef\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1786bedce2c2b8cd0fd56ca06ef\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebf9a5668b017c571bd2929e01\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab67616100005174f9a5668b017c571bd2929e01\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178f9a5668b017c571bd2929e01\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb7bf5d7839b9654ada42a7e4a\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051747bf5d7839b9654ada42a7e4a\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1787bf5d7839b9654ada42a7e4a\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb99e3b84db2e43839f2fe78b8\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000517499e3b84db2e43839f2fe78b8\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f17899e3b84db2e43839f2fe78b8\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb7608a0bf48db9ed12f476ba5\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051747608a0bf48db9ed12f476ba5\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1787608a0bf48db9ed12f476ba5\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebc8db673b6abf599da60d633b\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab67616100005174c8db673b6abf599da60d633b\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178c8db673b6abf599da60d633b\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb5d9d0bd188b2ad1f38739402\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab676161000051745d9d0bd188b2ad1f38739402\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f1785d9d0bd188b2ad1f38739402\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebf299b6700d991db6b8601104\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab67616100005174f299b6700d991db6b8601104\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178f299b6700d991db6b8601104\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5ebe06246edeedbc1e9c253f83b\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab67616100005174e06246edeedbc1e9c253f83b\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178e06246edeedbc1e9c253f83b\"\n        }\n      ]\n    },\n    {\n      \"images\": [\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000e5eb859f0afbeb1e9631fdc20783\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab67616100005174859f0afbeb1e9631fdc20783\"\n        },\n        {\n          \"url\": \"https://i.scdn.co/image/ab6761610000f178859f0afbeb1e9631fdc20783\"\n        }\n      ]\n    }\n  ]\n}\n","import React from \"react\";\nimport './Footer.scss';\n\nexport default function Footer() {\n\n  return (\n    <>\n      <footer class=\"text-center text-lg-start footer\">\n        <section class=\"\">\n          <div class=\"container text-center text-md-start mt-5\">\n            <div class=\"row mt-3\">\n              <div class=\"col-md-3 col-lg-4 col-xl-3 mx-auto mb-3\">\n                <img id=\"brand-footer\" src=\"/vusic_icon.png\" alt=\"vusic-icon\"></img>\n                <p>\n                  Created by Jiaqi Liu, Neerav Patel, and David Claveau.\n                </p>\n              </div>\n              <div class=\"col-md-2 col-lg-2 col-xl-2 mx-auto mb-3\">\n                <h6 class=\"text-uppercase mb-3 footer-titles\">\n                  Artists\n                </h6>\n                <p>\n                  <a href=\"#!\" class=\"text-reset\">Popularity</a>\n                </p>\n                <p>\n                  <a href=\"#!\" class=\"text-reset\">Followers</a>\n                </p>\n                <p>\n                  <a href=\"#!\" class=\"text-reset\">Genres</a>\n                </p>\n              </div>\n              <div class=\"col-md-3 col-lg-2 col-xl-2 mx-auto mb-3\">\n                <h6 class=\"text-uppercase mb-3 footer-titles\">\n                  Tracks\n                </h6>\n                <p>\n                  <a href=\"#!\" class=\"text-reset\">Popularity</a>\n                </p>\n                <p>\n                  <a href=\"#!\" class=\"text-reset\">Release Years</a>\n                </p>\n                <p>\n                  <a href=\"#!\" class=\"text-reset\">Analysis</a>\n                </p>\n              </div>\n              <div class=\"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-3\">\n                <h6 class=\"text-uppercase mb-3 footer-titles\">\n                  Contact\n                </h6>\n                <p>\n                  Canada\n                </p>\n                <p>\n                  info@example.com\n                </p>\n              </div>\n            </div>\n          </div>\n        </section>\n        <div class=\"text-center p-4\">\n          2021\n        </div>\n      </footer>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\n// import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { BrowserRouter as Router, Route, NavLink } from \"react-router-dom\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { Navbar, Nav, Form, Button } from \"react-bootstrap\";\nimport TopArtistsPopularity from \"./Pages/TopArtistsPopularity\";\nimport TopArtistsFollowers from \"./Pages/TopArtistsFollowers\";\nimport TopArtistsGenres from \"./Pages/TopArtistsGenres\";\nimport RelatedArtists from \"./Pages/RelatedArtists\";\nimport TopTracksPopularity from \"./Pages/TopTracksPopularity\";\nimport TopTracksAnalysis from \"./Pages/TopTracksAnalysis\";\nimport TopTracksYears from \"./Pages/TopTracksYears\";\nimport Home from \"./Pages/Home\";\nimport Footer from \"../src/components/Footer\";\nimport \"./_styles.scss\";\nimport \"./App.scss\";\n\nconst routes = [\n  { path: \"/\", name: \"Vusic\", Component: Home },\n  {\n    path: \"/graphs/top-artists/popularity\",\n    name: \"Artists by Popularity\",\n    Component: TopArtistsPopularity,\n  },\n  {\n    path: \"/graphs/top-artists/followers\",\n    name: \"Artists by Followers\",\n    Component: TopArtistsFollowers,\n  },\n  {\n    path: \"/graphs/top-artists/:id/related-artists\",\n    name: \"Related Artists\",\n    Component: RelatedArtists,\n  },\n  {\n    path: \"/graphs/top-artists/genres\",\n    name: \"Artists by Genres\",\n    Component: TopArtistsGenres,\n  },\n  {\n    path: \"/graphs/top-tracks/popularity\",\n    name: \"Tracks by Popularity\",\n    Component: TopTracksPopularity,\n  },\n  {\n    path: \"/graphs/top-tracks/years\",\n    name: \"Tracks by Year\",\n    Component: TopTracksYears,\n  },\n  {\n    path: \"/graphs/top-tracks/analysis\",\n    name: \"Tracks Analysis\",\n    Component: TopTracksAnalysis,\n  },\n];\n\nclass App extends Component {\n\n\n  render() {\n    return (\n      <Router>\n        <>\n          <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n            <Navbar.Brand>\n              <Nav.Link\n                key=\"/\"\n                as={NavLink}\n                to=\"/\"\n                activeClassName=\"active\"\n                exact\n              >\n                <img id=\"brand\" src=\"/vusic_icon.png\" alt=\"vusic-icon\"></img>\n              </Nav.Link>\n            </Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\n              <Nav className=\"mr-auto\">\n                {routes\n                  .filter(\n                    (route) =>\n                      route.path !==\n                        \"/graphs/top-artists/:id/related-artists\" &&\n                      route.path !== \"/\"\n                  )\n                  .map((route) => (\n                    <Nav.Link\n                      key={route.path}\n                      as={NavLink}\n                      to={route.path}\n                      activeClassName=\"active\"\n                      exact\n                    >\n                      {route.name}\n                    </Nav.Link>\n                  ))}\n              </Nav>\n              <Form inline>\n                <Button\n                  variant=\"login-button\"\n                  href=\"http://localhost:4000/login\"\n                >\n                  Login\n                </Button>\n              </Form>\n            </Navbar.Collapse>\n          </Navbar>\n          <div>\n            {routes.map(({ path, Component }) => (\n              <Route key={path} exact path={path}>\n                {({ match }) => (\n                  <CSSTransition\n                    in={match != null}\n                    timeout={300}\n                    classNames=\"page\"\n                    unmountOnExit\n                  >\n                    <Component />\n                  </CSSTransition>\n                )}\n              </Route>\n            ))}\n          </div>\n        <Footer/>\n        </>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport ForceChart from '../components/ForceChart'\nimport { useLocation } from 'react-router';\nimport '../components/ForceChart.scss'\nimport Error from '../components/Error';\n\n\nexport default function RelatedArtists(props) {\n  const location = useLocation();\n\n  let GET_TRACK = gql`\n    query GetTrack {\n      relatedArtists (id:\"${location.state ? location.state.id : \"\"}\") {\n        id\n        name\n        images {\n          height\n          url\n          width\n        }\n        external_urls {\n          spotify\n        }\n      }\n    }\n  `;\n\n  if (location.state) {\n    return (\n      <div>\n        <Query query={GET_TRACK}>\n          {({ loading, data }) => !loading && (\n            <>\n              <h1 class=\"d-flex justify-content-flex-end\">\n                Related Artists to {location.state.name}\n              </h1>\n              <ForceChart graphData={data} parent={location.state}></ForceChart>\n            </>\n          )}\n        </Query>\n      </div>\n  );\n  }\n\n  return (<Error />);\n\n}\n","import React from \"react\";\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\nimport HeatMap from \"../components/HeatMap\";\nimport VusicLoader from \"../components/VusicLoader\";\nimport Error from \"../components/Error\";\n\nexport default function RelatedArtists(props) {\n  const GET_TRACKS_INFO_FIRST = gql`\n    query gettopTrackOffset {\n      topTrackOffset(limit: \"49\", offset: \"0\") {\n        id\n        name\n        artists {\n          name\n        }\n        album {\n          images {\n            url\n          }\n          release_date\n        }\n      }\n    }\n  `;\n\n  const GET_TRACKS_INFO_SECOND = gql`\n    query gettopTrackOffset {\n      topTrackOffset(limit: \"50\", offset: \"49\") {\n        id\n        name\n        artists {\n          name\n        }\n        album {\n          images {\n            url\n          }\n          release_date\n        }\n      }\n    }\n  `;\n\n  return (\n    <div>\n      <Query query={GET_TRACKS_INFO_FIRST}>\n        {({ loading: loadingOne, data: one }) => (\n          <Query query={GET_TRACKS_INFO_SECOND}>\n            {({ loading: loadingTwo, data: two }) => {\n              if (loadingOne || loadingTwo) {\n                return <VusicLoader />;\n              }\n              if (!one.topTrackOffset || !two.topTrackOffset) {\n                return <Error />\n              }\n              return (\n                <>\n                  <HeatMap dataGraphFirst={one} dataGraphSecond={two}></HeatMap>\n                </>\n              );\n            }}\n          </Query>\n        )}\n      </Query>\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ApolloProvider } from 'react-apollo';\nimport client from './apollo';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}